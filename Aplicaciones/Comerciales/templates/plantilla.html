{% load static %}
<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gestión para Constructora</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Bibliotecas locales -->
    <link href="{% static 'css/font-awesome.css' %}" rel="stylesheet">
    <link href="{% static 'css/tailwind.css' %}" rel="stylesheet">
    <link href="{% static 'css/emoji.css' %}" rel="stylesheet">
    <!-- Script local -->
    <script src="{% static 'js/chart.bundle.min.js' %}" integrity="sha256-xKeoJ50pzbUGkpQxDYHD7o7hxe0LaOGeguUidbq6vis=" crossorigin="anonymous"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.js"></script>

    <!-- paso 2. Importando Bootstrap desde un CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    

    <!-- *********************ESTE MUESTRA EL MANSAJE EL EXITOS GUARDADO************************-->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js" integrity="sha512-Zq9o+E00xhhR/7vJ49mxFNJ0KQw1E1TMWkPTxrWcnpfEFDEXgUiwJHIKit93EW/XxE31HSI5GEOW06G6BF1AtA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.css" integrity="sha512-DIW4FkYTOxjCqRt7oS9BFO+nVOwDL4bzukDyDtMO7crjUZhwpyrWBFroq+IqRe6VnJkTpRAS6nhDvf0w+wHmxg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <!-- paso 3. Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@400;500;600;700display=swap" rel="stylesheet"> 


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.min.css" />
    
    <!--paso 5. importando datatable -->
    <link rel="stylesheet" href="//cdn.datatables.net/2.2.1/css/dataTables.dataTables.min.css">
    <script src="//cdn.datatables.net/2.2.1/js/dataTables.min.js"></script>

        <!-- Incluir pdfmake para exportación a PDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.min.js"></script>
    
        <!-- TOTO ARASTRO Y SUELO********fileinput*********-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.5.4/css/fileinput-rtl.min.css" integrity="sha512-FsktTEI0am2aVFo8xjeBVrDhzxVKbDMaTmYVcqZH4tOqCK+1Isjm40mevYqxBXLUl8AaeCkXh6/1E9xhZ5lnVQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.5.4/js/fileinput.min.js" integrity="sha512-0wQvB58Ha5coWmcgtg4f11CTSSxfrfLClUp9Vy0qhzYzCZDSnoB4Vhu5JXJFs7rU24LE6JsH+6hpP7vQ22lk5w==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-fileinput/5.5.4/css/fileinput.min.css" integrity="sha512-yDVMONIXJPPAoULZ92Ygngsn8ZUGB4ejm6fCc6q9ZvdH8blFAOgg75XZSEaAJ5m4E/yPI1BAi5fF2axMHVuZ5w==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <script src="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/js/iziToast.min.js" integrity="sha512-Zq9o+E00xhhR/7vJ49mxFNJ0KQw1E1TMWkPTxrWcnpfEFDEXgUiwJHIKit93EW/XxE31HSI5GEOW06G6BF1AtA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/izitoast/1.4.0/css/iziToast.css" integrity="sha512-DIW4FkYTOxjCqRt7oS9BFO+nVOwDL4bzukDyDtMO7crjUZhwpyrWBFroq+IqRe6VnJkTpRAS6nhDvf0w+wHmxg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- Estilos personalizados -->
    <style>
        body {
            background: #E3C697; /* Fondo dorado suave */
            font-family: 'Segoe UI', sans-serif;
            color: #333333; /* Color de texto oscuro para mejorar la legibilidad */
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .search-bar {
            background-color: #459E39; /* Verde fuerte para la barra de búsqueda */
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 30px;
            width: 100%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .search-input {
            padding: 10px;
            font-size: 1rem;
            border-radius: 5px;
            border: none;
            width: 250px;
            background-color: #ffffff; /* Fondo blanco para el input */
            color: #333333; /* Texto oscuro para mayor contraste */
        }

        .search-button {
            background-color: #459E39; /* Verde fuerte */
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .search-button:hover {
            background-color: #3a7a2a; /* Verde más oscuro al pasar el mouse */
        }

        .sidebar {
            width: 250px;
            background: #459E39; /* Verde fuerte para el menú lateral */
            color: white;
            position: fixed;
            top: 0;
            bottom: 0;
            padding: 20px 15px;
            box-shadow: 4px 0 12px rgba(0, 0, 0, 0.4);
            top: 60px;
            z-index: 100;
        }

        .sidebar h2 {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 25px;
            color: #ffffff;
        }

        .sidebar .nav-link {
            color: #ffffff;
            font-size: 1.1rem;
            margin-bottom: 15px;
            text-decoration: none;
            border-radius: 5px;
            padding: 10px 20px;
            transition: background 0.3s, padding-left 0.3s;
        }

        .sidebar .nav-link:hover {
            background: rgba(255, 255, 255, 0.1);
            color: #E3C697; /* Color dorado al pasar el mouse */
            padding-left: 25px;
        }

        .main-content {
            margin-left: 250px;
            padding: 20px;
            flex-grow: 1;
            background: #f4f7fc;
            margin-top: 60px;
            border-radius: 15px;
        }

        .header-title {
            font-size: 2rem;
            color: #459E39; /* Verde fuerte para el título */
            font-weight: bold;
            margin-bottom: 10px;
        }

        footer {
            background: #459E39; /* Verde fuerte */
            color: white;
            text-align: center;
            padding: 20px;
            border-top: 3px solid #E3C697; /* Dorado suave como borde */
            position: relative;
            bottom: 0;
            width: 100%;
        }

        .content-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
            margin-top: 30px;
        }

        .content-container h3 {
            color: #459E39; /* Verde fuerte */
            font-size: 1.8rem;
            font-weight: bold;
        }

        .btn-custom {
            background-color: #459E39; /* Verde fuerte */
            color: white;
            padding: 12px 18px;
            border-radius: 5px;
            transition: background-color 0.3s;
        }

        .btn-custom:hover {
            background-color: #3a7a2a; /* Verde más oscuro */
        }
    </style>

</head>

<body>

    <!-- Barra de búsqueda superior -->
    <div class="search-bar">
        <div>
            <h1 class="header-title">Sistema de Gestión para Constructora</h1>
        </div>
        <div>
            <input type="text" class="search-input" placeholder="Buscar...">
            <button class="search-button"><i class="bi bi-search"></i> Buscar</button>
        </div>
    </div>

    <!-- Menú lateral -->
    <div class="sidebar">
        <h2>Menú</h2>

        <a class="nav-link" href="/">
            <i class="bi bi-house-door"></i> Inicio
        </a>
        
        <!-- Edificaciones -->
        <div class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="dropdownEdificaciones" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                <i class="bi bi-building"></i> Edificaciones
            </a>
            <ul class="dropdown-menu" aria-labelledby="dropdownEdificaciones">
                <li><a class="dropdown-item" href="{% url 'listar_edificaciones' %}"><i class="bi bi-list-ul"></i> Listado Edificaciones</a></li>
                <li><a class="dropdown-item" href="{% url 'listar_recursos' %}"><i class="bi bi-gear"></i> Asignar Recursos</a></li>
            </ul>
        </div>

        <!-- Tiendas -->
        <a class="nav-link" href="{% url 'listar_tiendas' %}">
            <i class="bi bi-shop"></i> Tiendas
        </a>

        <!-- Propietarios -->
        <a class="nav-link" href="{% url 'listar_propietarios' %}">
            <i class="bi bi-person"></i> Propietarios
        </a>

        <!-- Fecha Entrega -->
        <a class="nav-link" href="{% url 'listar_entregas' %}">
            <i class="bi bi-calendar-check"></i> Fecha Entrega
        </a>

        <a class="nav-link" href="{% url 'reportes' %}">
            <i class="bi bi-bar-chart"></i> Generar reportes
        </a>



    </div>
    <!-- ********************************  AQUI VAN LOS MENSAGES EXITOSOS ***************************************-->
    
    
    

    <!-- Contenido principal -->
    <div class="main-content">
        <main class="container my-5">
            <div class="content-container">
                {% block contenido %}
                <!-- Aquí va el contenido de cada vista -->
                {% endblock %}
            </div>
        </main>
    </div>

    <!-- Pie de página -->
    <footer>
        <p>&copy; 2025 Constructora XYZ. Todos los derechos reservados.</p>
    </footer>

    <!-- verificando y mostrando mensajes de confirmacion -->
    {% if messages %}
      {% for mensajeConfirmacion in messages %}
        <script>
          if("{{mensajeConfirmacion.tags}}"== "success"){
            //alert(":) - {{mensajeConfirmacion}}");
            iziToast.success({
              title: 'Éxito',
              message: '{{mensajeConfirmacion}}',
              position: 'topRight'
          });


          }
          
        </script>
      {% endfor %}
    {% endif %}
    <script>
      jQuery.validator.addMethod("letras", function(value, element) {            
          return this.optional(element) || /^[A-Za-zÁÉÍÓÚÑáéíóúñ ]*$/.test(value);       
      }, "Este campo solo acepta letras");
    

</body>

</html>
